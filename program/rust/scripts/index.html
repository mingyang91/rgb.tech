<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>RGB smart contracts</title>
  <link rel="stylesheet" href="/tachyons-ext.css">
  <link rel="stylesheet" href="/fonts.css">
  <link rel="stylesheet" href="/front.css">
  <meta http-equiv="cache-control" content="no-cache">
  <meta http-equiv="expires" content="0">
  <meta http-equiv="pragma" content="no-cache">
  
    <meta name="description" content="">

    <meta property="og:title" content="Scripting" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://rgb.tech/rgb-banner.png" />
    <meta name="twitter:card" content="summary_large_image">

    <meta property="og:description" content="">
    <meta property="og:site_name" content="RGB protocol">

    <meta name="twitter:site" content="@lnp_bp">

</head>

<body>
<nav class="flex flex-row justify-center justify-end-l items-center flex-wrap ph2 pl3-ns pr3-ns pb3">
  <div id="logo" class="flex-auto w-100 w-auto-l self-start self-center tc tl-l">
    <a href="/">
      <img alt="RGB Logo" src="/logo/rgb-symbol-color.svg">
    </a>
  </div>
  <ul class="nav list w-100 w-auto-l flex flex-none flex-row flex-wrap justify-center justify-end-l items-center pv2 ph0 ph4-ns">
    <li class="tc pv2 ph2 ph4-ns flex-20-s"><a href="/install">Install</a></li>
    <li class="tc pv2 ph2 ph4-ns flex-20-s"><a href="/learn">Learn</a></li>
    <!-- li class="tc pv2 ph2 ph4-ns flex-20-s">Tools</li -->
    <li class="tc pv2 ph2 ph4-ns flex-20-s"><a href="/governance">Governance</a></li>
    <li class="tc pv2 ph2 ph4-ns flex-20-s"><a href="https://t.me/rgbtelegram">Community</a></li>
    <li class="tc pv2 ph2 ph4-ns flex-20-s"><a href="/blog">Blog</a></li>
  </ul>
</nav>
<main>
  
<section class="section-white">
    <div>
        <header class="pb0">
            <h1>Scripting</h1>
            <div class="highlight"></div>
        </header>

        <pre data-lang="rust" style="background-color:#2b303b;color:#c0c5ce;" class="language-rust "><code class="language-rust" data-lang="rust"><span>    </span><span style="color:#b48ead;">let</span><span> code = [RgbIsa::Contract(ContractOp::PcVs(</span><span style="color:#d08770;">OS_ASSETS</span><span>))];
</span><span>    </span><span style="color:#b48ead;">let</span><span> alu_lib = Lib::assemble(&amp;code).</span><span style="color:#96b5b4;">unwrap</span><span>();
</span><span>    </span><span style="color:#b48ead;">let</span><span> alu_id = alu_lib.</span><span style="color:#96b5b4;">id</span><span>();
</span></code></pre>
<pre data-lang="rust" style="background-color:#2b303b;color:#c0c5ce;" class="language-rust "><code class="language-rust" data-lang="rust"><span>    </span><span style="color:#b48ead;">let</span><span> code = aluasm! {
</span><span>        clr     r1024[</span><span style="color:#d08770;">5</span><span>]                        ;
</span><span>        put     </span><span style="color:#d08770;">5</span><span>,a16[</span><span style="color:#d08770;">8</span><span>]                        ;
</span><span>        putif   </span><span style="color:#d08770;">0xaf67937b5498dc</span><span>,r256[</span><span style="color:#d08770;">1</span><span>]        ;
</span><span>        putif   </span><span style="color:#d08770;">13</span><span>,a8[</span><span style="color:#d08770;">1</span><span>]                        ;
</span><span>        swp     a8[</span><span style="color:#d08770;">1</span><span>],a8[</span><span style="color:#d08770;">2</span><span>]                     ;
</span><span>        swp     f256[</span><span style="color:#d08770;">8</span><span>],f256[</span><span style="color:#d08770;">7</span><span>]                 ;
</span><span>        dup     a256[</span><span style="color:#d08770;">1</span><span>],a256[</span><span style="color:#d08770;">7</span><span>]                 ;
</span><span>        mov     a16[</span><span style="color:#d08770;">1</span><span>],a16[</span><span style="color:#d08770;">2</span><span>]                   ;
</span><span>        mov     r256[</span><span style="color:#d08770;">8</span><span>],r256[</span><span style="color:#d08770;">7</span><span>]                 ;
</span><span>        cpy     a256[</span><span style="color:#d08770;">1</span><span>],a256[</span><span style="color:#d08770;">7</span><span>]                 ;
</span><span>        cnv     f128[</span><span style="color:#d08770;">4</span><span>],a128[</span><span style="color:#d08770;">3</span><span>]                 ;
</span><span>        spy     a1024[</span><span style="color:#d08770;">15</span><span>],r1024[</span><span style="color:#d08770;">24</span><span>]             ;
</span><span>        gt.u    a8[</span><span style="color:#d08770;">5</span><span>],a64[</span><span style="color:#d08770;">9</span><span>]                    ;
</span><span>        lt.s    a8[</span><span style="color:#d08770;">5</span><span>],a64[</span><span style="color:#d08770;">9</span><span>]                    ;
</span><span>        gt.e    </span><span style="color:#b48ead;">f64</span><span>[</span><span style="color:#d08770;">5</span><span>],</span><span style="color:#b48ead;">f64</span><span>[</span><span style="color:#d08770;">9</span><span>]                   ;
</span><span>        lt.r    </span><span style="color:#b48ead;">f64</span><span>[</span><span style="color:#d08770;">5</span><span>],</span><span style="color:#b48ead;">f64</span><span>[</span><span style="color:#d08770;">9</span><span>]                   ;
</span><span>        gt      r160[</span><span style="color:#d08770;">5</span><span>],r256[</span><span style="color:#d08770;">9</span><span>]                 ;
</span><span>        lt      r160[</span><span style="color:#d08770;">5</span><span>],r256[</span><span style="color:#d08770;">9</span><span>]                 ;
</span><span>        eq.e    a8[</span><span style="color:#d08770;">5</span><span>],a8[</span><span style="color:#d08770;">9</span><span>]                    ;
</span><span>        eq.n    r160[</span><span style="color:#d08770;">5</span><span>],r160[</span><span style="color:#d08770;">9</span><span>]                 ;
</span><span>        eq.e    </span><span style="color:#b48ead;">f64</span><span>[</span><span style="color:#d08770;">19</span><span>],</span><span style="color:#b48ead;">f64</span><span>[</span><span style="color:#d08770;">29</span><span>]                 ;
</span><span>        ifn     a32[</span><span style="color:#d08770;">32</span><span>]                         ;
</span><span>        ifz     r2048[</span><span style="color:#d08770;">17</span><span>]                       ;
</span><span>        inv     st0                             ;
</span><span>        st.s    a8[</span><span style="color:#d08770;">1</span><span>]                           ;
</span><span>        put     </span><span style="color:#d08770;">13</span><span>,a32[</span><span style="color:#d08770;">12</span><span>]                      ;
</span><span>        put     </span><span style="color:#d08770;">66</span><span>,a32[</span><span style="color:#d08770;">13</span><span>]                      ;
</span><span>        add.uc  a32[</span><span style="color:#d08770;">12</span><span>],a32[</span><span style="color:#d08770;">13</span><span>]                 ;
</span><span>        add.sw  a32[</span><span style="color:#d08770;">12</span><span>],a32[</span><span style="color:#d08770;">13</span><span>]                 ;
</span><span>        sub.sc  a32[</span><span style="color:#d08770;">13</span><span>],a32[</span><span style="color:#d08770;">12</span><span>]                 ;
</span><span>        mul.uw  a32[</span><span style="color:#d08770;">12</span><span>],a32[</span><span style="color:#d08770;">13</span><span>]                 ;
</span><span>        div.cu  a32[</span><span style="color:#d08770;">12</span><span>],a32[</span><span style="color:#d08770;">13</span><span>]                 ;
</span><span>        put     </span><span style="color:#d08770;">2.13</span><span>,</span><span style="color:#b48ead;">f32</span><span>[</span><span style="color:#d08770;">12</span><span>]                    ;
</span><span>        put     </span><span style="color:#d08770;">5.18</span><span>,</span><span style="color:#b48ead;">f32</span><span>[</span><span style="color:#d08770;">13</span><span>]                    ;
</span><span>        add.z   </span><span style="color:#b48ead;">f32</span><span>[</span><span style="color:#d08770;">12</span><span>],</span><span style="color:#b48ead;">f32</span><span>[</span><span style="color:#d08770;">13</span><span>]                 ;
</span><span>        sub.n   </span><span style="color:#b48ead;">f32</span><span>[</span><span style="color:#d08770;">13</span><span>],</span><span style="color:#b48ead;">f32</span><span>[</span><span style="color:#d08770;">12</span><span>]                 ;
</span><span>        mul.c   </span><span style="color:#b48ead;">f32</span><span>[</span><span style="color:#d08770;">12</span><span>],</span><span style="color:#b48ead;">f32</span><span>[</span><span style="color:#d08770;">13</span><span>]                 ;
</span><span>        div.f   </span><span style="color:#b48ead;">f32</span><span>[</span><span style="color:#d08770;">12</span><span>],</span><span style="color:#b48ead;">f32</span><span>[</span><span style="color:#d08770;">13</span><span>]                 ;
</span><span>        rem     a64[</span><span style="color:#d08770;">8</span><span>],a8[</span><span style="color:#d08770;">2</span><span>]                    ;
</span><span>        inc     a16[</span><span style="color:#d08770;">3</span><span>]                          ;
</span><span>        add     </span><span style="color:#d08770;">5</span><span>,a16[</span><span style="color:#d08770;">4</span><span>]                        ;
</span><span>        dec     a16[</span><span style="color:#d08770;">8</span><span>]                          ;
</span><span>        sub     </span><span style="color:#d08770;">82</span><span>,a16[</span><span style="color:#d08770;">4</span><span>]                       ;
</span><span>        neg     a64[</span><span style="color:#d08770;">16</span><span>]                         ;
</span><span>        abs     f128[</span><span style="color:#d08770;">11</span><span>]                        ;
</span><span>        and     a32[</span><span style="color:#d08770;">5</span><span>],a32[</span><span style="color:#d08770;">6</span><span>],a32[</span><span style="color:#d08770;">5</span><span>]            ;
</span><span>        xor     r128[</span><span style="color:#d08770;">5</span><span>],r128[</span><span style="color:#d08770;">6</span><span>],r128[</span><span style="color:#d08770;">5</span><span>]         ;
</span><span>        shr.u   a256[</span><span style="color:#d08770;">12</span><span>],a16[</span><span style="color:#d08770;">2</span><span>]                 ;
</span><span>        shr.s   a256[</span><span style="color:#d08770;">12</span><span>],a16[</span><span style="color:#d08770;">2</span><span>]                 ;
</span><span>        shl     r256[</span><span style="color:#d08770;">24</span><span>],a16[</span><span style="color:#d08770;">22</span><span>]                ;
</span><span>        shr     r256[</span><span style="color:#d08770;">24</span><span>],a16[</span><span style="color:#d08770;">22</span><span>]                ;
</span><span>        scr     r256[</span><span style="color:#d08770;">24</span><span>],a16[</span><span style="color:#d08770;">22</span><span>]                ;
</span><span>        scl     r256[</span><span style="color:#d08770;">24</span><span>],a16[</span><span style="color:#d08770;">22</span><span>]                ;
</span><span>        rev     a512[</span><span style="color:#d08770;">28</span><span>]                        ;
</span><span>        ripemd  s16[</span><span style="color:#d08770;">9</span><span>],r160[</span><span style="color:#d08770;">7</span><span>]                  ;
</span><span>        sha2    s16[</span><span style="color:#d08770;">19</span><span>],r256[</span><span style="color:#d08770;">2</span><span>]                 ;
</span><span>        secpgen r256[</span><span style="color:#d08770;">1</span><span>],r512[</span><span style="color:#d08770;">1</span><span>]                 ;
</span><span>        dup     r512[</span><span style="color:#d08770;">1</span><span>],r512[</span><span style="color:#d08770;">22</span><span>]                ;
</span><span>        spy     a512[</span><span style="color:#d08770;">1</span><span>],r512[</span><span style="color:#d08770;">22</span><span>]                ;
</span><span>        secpmul r256[</span><span style="color:#d08770;">1</span><span>],r512[</span><span style="color:#d08770;">1</span><span>],r512[</span><span style="color:#d08770;">2</span><span>]         ;
</span><span>        secpadd r512[</span><span style="color:#d08770;">22</span><span>],r512[</span><span style="color:#d08770;">1</span><span>]                ;
</span><span>        secpneg r512[</span><span style="color:#d08770;">1</span><span>],r512[</span><span style="color:#d08770;">3</span><span>]                 ;
</span><span>        ifz     a16[</span><span style="color:#d08770;">8</span><span>]                          ;
</span><span>        jif     </span><span style="color:#d08770;">190                             </span><span>;
</span><span>        jmp     </span><span style="color:#d08770;">6                               </span><span>;
</span><span>        call    </span><span style="color:#d08770;">56 </span><span>@ alu1wnhusevxmdphv3dh8ada44k0xw66ahq9nzhkv39z07hmudhp380sq0dtml ;
</span><span>        ret                                     ;
</span><span>    };
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> lib = Lib::assemble(&amp;code).</span><span style="color:#96b5b4;">expect</span><span>(&quot;</span><span style="color:#a3be8c;">invalid program);
</span></code></pre>

    </div>
</section>

</main>

<footer><div class="w-100 mw-none ph3 mw8-m mw9-l center f3">
  <div class="flex flex-column flex-row-ns pv0-l">
    <div class="flex flex-column mw8 w-100 measure-wide-l pv2 pv5-m pv2-ns ph4-m ph4-l">
      <h4>Get help!</h4>
      <ul>
        <li><a href="http://rgbfaq.com">RGB FAQ</a></li>
        <li><a href="https://blackpaper.rgb.tech">White paper</a></li>
        <li><a href="/docs">Documentation</a></li>
        <li><a href="https://standards.lnp-bp.org">Standards</a></li>
      </ul>
    </div>
    <div class="flex flex-column mw8 w-100 measure-wide-l pv2 pv5-m pv2-ns ph4-m ph4-l">
      <h4>Terms and policies</h4>
      <ul>
        <li><a href="/policies/licenses">Licenses</a></li>
        <li><a href="/policies/logo-policy-and-media-guide/">Logo Policy and Media Guide</a></li>
        <li><a href="/policies/security">Security Disclosures</a></li>
        <li><a href="/policies/privacy-policy/">Privacy Notice</a></li>
      </ul>
    </div>
    <div class="flex flex-column mw8 w-100 measure-wide-l pv2 pv5-m pv2-ns ph4-m ph4-l">
      <h4>Social</h4>
      <div class="flex flex-row flex-wrap">
        <a href="https://twitter.com/lnp_bp"><img src="/social/twitter.svg" alt="twitter logo" title="Twitter"></a>
        <a href="https://www.youtube.com/LNP-BP"><img class="pv2" src="/social/youtube.svg" alt="youtube logo" title="YouTube"></a>
        <a href="https://reddit.com/r/RGB_protocol"><img src="/social/reddit.svg" alt="discord logo" title="Discord"></a>
        <a href="https://github.com/RGB-WG"><img src="/social/github.svg" alt="github logo" title="GitHub"></a>
      </div>
    </div>

  </div>
  <div class="attribution">
    <p>
      Maintained by the <a href="https://www.lnp-bp.org">LNP/BP Standards Association</a>. See a bug?
      <a href="https://github.com/RGB-WG/rgb.tech/issues/new">File an issue!</a>
    </p>
    <p>Uses layout &amp; styles from <a href="https://github.com/rust-lang/www.rust-lang.org" target="_blank">Rust Language website</a></p>
  </div>
</div>

</footer>
</body>

</html>
